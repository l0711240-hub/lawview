<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LexVis — 법률 열람 & 판례 해석 보조</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700&family=Noto+Sans+KR:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e0f14;
    --surface: #161820;
    --surface2: #1e2028;
    --border: #2a2d3a;
    --border-bright: #3a3f52;
    --text: #dde2f0;
    --text-muted: #7b82a0;
    --text-dim: #4a5070;
    --accent: #c8a96e;
    --accent-dim: rgba(200,169,110,0.15);
    --accent-glow: rgba(200,169,110,0.08);
    --blue: #5b8dee;
    --blue-dim: rgba(91,141,238,0.15);
    --red: #e05c5c;
    --green: #5cc878;
    --purple: #a07de0;
    --font-serif: 'Noto Serif KR', serif;
    --font-sans: 'Noto Sans KR', sans-serif;
    --font-mono: 'JetBrains Mono', monospace;
    --radius: 6px;
    --shadow: 0 4px 24px rgba(0,0,0,0.4);
  }
  .light-mode {
    --bg: #f4f2ed;
    --surface: #faf9f6;
    --surface2: #ede9e0;
    --border: #d8d0c0;
    --border-bright: #b8a890;
    --text: #1a1810;
    --text-muted: #6b6050;
    --text-dim: #a09080;
    --accent: #8b6914;
    --accent-dim: rgba(139,105,20,0.1);
    --accent-glow: rgba(139,105,20,0.05);
    --blue: #2355c4;
    --blue-dim: rgba(35,85,196,0.12);
    --shadow: 0 4px 24px rgba(0,0,0,0.12);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--bg); color:var(--text); font-family:var(--font-sans); font-size:14px; line-height:1.6; transition: background 0.3s, color 0.3s; }

  /* ── 페이지 전환 ── */
  .page { display:none; }
  .page.active { display:block; }

  /* ══════════════════════════════════
     HOME PAGE
  ══════════════════════════════════ */
  #home { min-height:100vh; }

  .home-nav {
    position:fixed; top:0; left:0; right:0; z-index:100;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 48px; height:60px;
    background:rgba(14,15,20,0.88); backdrop-filter:blur(12px);
    border-bottom:1px solid var(--border);
    transition: background 0.3s;
  }
  .light-mode .home-nav { background:rgba(244,242,237,0.9); }
  .logo { font-family:var(--font-serif); font-size:20px; color:var(--accent); letter-spacing:0.04em; }
  .logo span { color:var(--text); font-weight:300; }
  .nav-links { display:flex; align-items:center; gap:28px; }
  .nav-links a { color:var(--text-muted); text-decoration:none; font-size:13px; cursor:pointer; transition:color 0.2s; }
  .nav-links a:hover { color:var(--text); }
  .nav-right { display:flex; align-items:center; gap:12px; }

  .hero {
    padding: 160px 80px 80px;
    max-width:1200px; margin:0 auto;
    display:grid; grid-template-columns:1fr 1fr; gap:80px; align-items:center;
  }
  .hero-eyebrow {
    font-family:var(--font-mono); font-size:11px; color:var(--accent);
    letter-spacing:0.15em; text-transform:uppercase; margin-bottom:20px;
    display:flex; align-items:center; gap:10px;
  }
  .hero-eyebrow::before { content:''; display:block; width:32px; height:1px; background:var(--accent); }
  .hero-title {
    font-family:var(--font-serif); font-size:48px; line-height:1.2;
    margin-bottom:24px; color:var(--text);
  }
  .hero-title em { color:var(--accent); font-style:normal; }
  .hero-desc { color:var(--text-muted); font-size:16px; line-height:1.8; margin-bottom:40px; }
  .hero-cta { display:flex; gap:12px; flex-wrap:wrap; }

  .btn-primary {
    padding:12px 28px; background:var(--accent); color:#0e0f14;
    border:none; border-radius:var(--radius); font-size:13px; font-weight:600;
    cursor:pointer; transition:opacity 0.2s; font-family:var(--font-sans);
  }
  .btn-primary:hover { opacity:0.88; }
  .btn-outline {
    padding:12px 28px; background:transparent; color:var(--text);
    border:1px solid var(--border-bright); border-radius:var(--radius);
    font-size:13px; cursor:pointer; transition:border-color 0.2s; font-family:var(--font-sans);
  }
  .btn-outline:hover { border-color:var(--accent); color:var(--accent); }

  /* 우측 검색 데모 패널 */
  .hero-demo {
    background:var(--surface); border:1px solid var(--border);
    border-radius:12px; padding:28px; box-shadow: var(--shadow);
  }
  .demo-searchbar {
    display:flex; align-items:center; gap:10px;
    background:var(--surface2); border:1px solid var(--border);
    border-radius:6px; padding:10px 14px; margin-bottom:20px;
  }
  .demo-searchbar input {
    background:none; border:none; outline:none; color:var(--text);
    font-family:var(--font-sans); font-size:14px; flex:1;
  }
  .demo-searchbar .search-icon { color:var(--text-dim); font-size:16px; }
  .demo-tag { display:inline-flex; align-items:center; gap:6px; padding:4px 10px;
    background:var(--accent-dim); border:1px solid var(--accent);
    color:var(--accent); border-radius:20px; font-size:11px; margin:3px; cursor:pointer; }
  .demo-tag:hover { background:var(--accent); color:#0e0f14; }
  .demo-result-item {
    padding:14px; background:var(--surface2); border-radius:6px;
    border-left:3px solid var(--accent); margin-bottom:10px; cursor:pointer;
    transition:border-color 0.2s;
  }
  .demo-result-item:hover { border-left-color:var(--blue); }
  .demo-result-item.blue { border-left-color:var(--blue); }
  .result-court { font-size:10px; font-family:var(--font-mono); color:var(--text-muted); margin-bottom:4px; }
  .result-title { font-size:13px; font-weight:500; margin-bottom:4px; }
  .result-tags { display:flex; gap:6px; flex-wrap:wrap; }
  .tag-small { padding:2px 8px; border-radius:3px; font-size:10px; font-family:var(--font-mono); }
  .tag-헌법 { background:rgba(200,169,110,0.15); color:var(--accent); }
  .tag-형법 { background:rgba(91,141,238,0.15); color:var(--blue); }
  .tag-민법 { background:rgba(92,200,120,0.15); color:var(--green); }

  /* 기능 섹션 */
  .features { max-width:1200px; margin:0 auto; padding:60px 80px; }
  .section-label { font-family:var(--font-mono); font-size:11px; color:var(--text-muted); letter-spacing:0.12em; text-transform:uppercase; margin-bottom:40px; }
  .features-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:20px; }
  .feature-card {
    background:var(--surface); border:1px solid var(--border);
    border-radius:8px; padding:28px;
    transition: border-color 0.2s, transform 0.2s;
  }
  .feature-card:hover { border-color:var(--accent); transform:translateY(-2px); }
  .feature-icon { font-size:24px; margin-bottom:16px; }
  .feature-title { font-weight:600; margin-bottom:8px; color:var(--text); }
  .feature-desc { font-size:13px; color:var(--text-muted); line-height:1.7; }

  /* ══════════════════════════════════
     DETAIL PAGE (판례 상세 뷰어)
  ══════════════════════════════════ */
  #detail { min-height:100vh; display:none; }
  #detail.active { display:flex; flex-direction:column; }

  .detail-topbar {
    position:sticky; top:0; z-index:100;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 20px; height:52px;
    background:var(--surface); border-bottom:1px solid var(--border);
  }
  .topbar-left { display:flex; align-items:center; gap:14px; }
  .topbar-logo { font-family:var(--font-serif); font-size:16px; color:var(--accent); cursor:pointer; }
  .topbar-divider { width:1px; height:20px; background:var(--border); }
  .topbar-case { font-size:13px; color:var(--text-muted); font-family:var(--font-mono); }
  .topbar-right { display:flex; align-items:center; gap:8px; }

  /* 3 패널 레이아웃 */
  .detail-body {
    flex:1; display:grid;
    grid-template-columns:260px 1fr 320px;
    height: calc(100vh - 52px);
    overflow: hidden;
  }

  /* 좌측 패널: TOC / 조문 목록 */
  .panel-left {
    background:var(--surface); border-right:1px solid var(--border);
    overflow-y:auto; padding:20px 0;
  }
  .panel-section-title {
    padding:0 18px; margin-bottom:10px;
    font-family:var(--font-mono); font-size:10px; color:var(--text-dim);
    letter-spacing:0.1em; text-transform:uppercase;
  }
  .toc-item {
    padding:8px 18px; cursor:pointer; font-size:12px; color:var(--text-muted);
    border-left:2px solid transparent; transition:all 0.15s;
    display:flex; justify-content:space-between; align-items:center;
  }
  .toc-item:hover { background:var(--surface2); color:var(--text); }
  .toc-item.active { border-left-color:var(--accent); color:var(--accent); background:var(--accent-glow); }
  .toc-item .article-num { font-family:var(--font-mono); font-size:10px; color:var(--text-dim); }
  .toc-badge { font-size:9px; padding:1px 5px; border-radius:3px; background:var(--blue-dim); color:var(--blue); font-family:var(--font-mono); }
  .toc-divider { height:1px; background:var(--border); margin:12px 0; }

  /* 가운데 패널: 본문 */
  .panel-center {
    overflow-y:auto; background:var(--bg);
    padding:40px 48px;
  }
  .case-header { margin-bottom:36px; }
  .case-court-badge {
    display:inline-flex; align-items:center; gap:8px;
    padding:6px 14px; border:1px solid var(--accent);
    border-radius:4px; font-size:11px; font-family:var(--font-mono);
    color:var(--accent); margin-bottom:16px;
  }
  .case-title {
    font-family:var(--font-serif); font-size:26px; line-height:1.4;
    color:var(--text); margin-bottom:12px;
  }
  .case-meta { display:flex; gap:20px; flex-wrap:wrap; }
  .meta-item { font-size:12px; color:var(--text-muted); font-family:var(--font-mono); }
  .meta-label { color:var(--text-dim); margin-right:6px; }

  .law-section { margin-bottom:32px; }
  .law-section-title {
    font-family:var(--font-serif); font-size:16px; font-weight:600;
    color:var(--accent); margin-bottom:14px;
    display:flex; align-items:center; gap:10px;
    padding-bottom:8px; border-bottom:1px solid var(--border);
  }
  .law-section-title .num { font-family:var(--font-mono); font-size:12px; color:var(--text-dim); }

  .law-text {
    font-family:var(--font-serif); font-size:15px; line-height:2;
    color:var(--text); word-break:keep-all;
  }
  /* 법률 용어 하이라이트 */
  .term {
    border-bottom:1px dashed var(--accent); color:var(--accent);
    cursor:pointer; position:relative; transition:background 0.15s;
  }
  .term:hover { background:var(--accent-dim); border-radius:2px; }
  /* 판결 하이라이트 */
  .highlight-key {
    background:rgba(200,169,110,0.12); border-radius:2px;
    padding:1px 2px;
  }
  .highlight-blue { background:rgba(91,141,238,0.1); border-radius:2px; padding:1px 2px; }

  /* 조문 박스 */
  .statute-box {
    background:var(--surface); border:1px solid var(--border);
    border-left:3px solid var(--blue); border-radius:6px;
    padding:16px 20px; margin:16px 0; font-size:13px;
    font-family:var(--font-mono); line-height:1.8; color:var(--text-muted);
  }
  .statute-box .statute-title { color:var(--blue); font-size:11px; margin-bottom:8px; font-weight:500; }

  /* 뷰어 툴바 */
  .viewer-toolbar {
    display:flex; align-items:center; gap:8px; margin-bottom:28px;
    padding-bottom:16px; border-bottom:1px solid var(--border);
    flex-wrap:wrap;
  }
  .toolbar-btn {
    padding:6px 14px; background:var(--surface2); border:1px solid var(--border);
    border-radius:4px; color:var(--text-muted); font-size:12px; cursor:pointer;
    transition:all 0.15s; display:flex; align-items:center; gap:6px;
    font-family:var(--font-sans);
  }
  .toolbar-btn:hover { border-color:var(--accent); color:var(--accent); }
  .toolbar-btn.active { background:var(--accent-dim); border-color:var(--accent); color:var(--accent); }
  .toolbar-sep { width:1px; height:20px; background:var(--border); }

  /* 폰트 크기 슬라이더 */
  .font-control { display:flex; align-items:center; gap:8px; }
  .font-control span { font-size:11px; color:var(--text-muted); font-family:var(--font-mono); }
  input[type=range] {
    width:80px; accent-color:var(--accent); cursor:pointer;
  }

  /* 우측 패널: AI 보조 + 연계 판례 */
  .panel-right {
    background:var(--surface); border-left:1px solid var(--border);
    overflow-y:auto; display:flex; flex-direction:column;
  }
  .panel-tabs {
    display:flex; border-bottom:1px solid var(--border); flex-shrink:0;
  }
  .panel-tab {
    flex:1; padding:12px 8px; text-align:center; font-size:12px;
    color:var(--text-muted); cursor:pointer; border-bottom:2px solid transparent;
    transition:all 0.15s;
  }
  .panel-tab.active { color:var(--accent); border-bottom-color:var(--accent); }
  .panel-content { padding:20px; overflow-y:auto; flex:1; }

  /* 용어 설명 카드 */
  .term-card {
    background:var(--surface2); border:1px solid var(--border);
    border-radius:6px; padding:16px; margin-bottom:12px;
  }
  .term-card-word { font-weight:600; color:var(--accent); font-size:14px; margin-bottom:6px; }
  .term-card-hanja { font-size:11px; color:var(--text-dim); font-family:var(--font-mono); margin-bottom:8px; }
  .term-card-def { font-size:13px; color:var(--text-muted); line-height:1.7; }
  .term-card-law { font-size:11px; font-family:var(--font-mono); color:var(--blue); margin-top:8px; }

  /* 연계 판례 카드 */
  .related-section-title {
    font-size:11px; font-family:var(--font-mono); color:var(--text-dim);
    letter-spacing:0.1em; text-transform:uppercase; margin-bottom:12px;
    display:flex; align-items:center; gap:8px;
  }
  .related-section-title::after { content:''; flex:1; height:1px; background:var(--border); }
  .related-card {
    background:var(--surface2); border:1px solid var(--border);
    border-radius:6px; padding:14px; margin-bottom:8px; cursor:pointer;
    transition:border-color 0.15s;
  }
  .related-card:hover { border-color:var(--blue); }
  .related-card.upper { border-left:3px solid var(--purple); }
  .related-card.similar { border-left:3px solid var(--accent); }
  .related-card.lower { border-left:3px solid var(--green); }
  .related-type { font-size:10px; font-family:var(--font-mono); margin-bottom:4px; }
  .related-type.upper { color:var(--purple); }
  .related-type.similar { color:var(--accent); }
  .related-type.lower { color:var(--green); }
  .related-title { font-size:12px; font-weight:500; margin-bottom:4px; line-height:1.5; }
  .related-meta { font-size:10px; font-family:var(--font-mono); color:var(--text-dim); }
  .related-similarity {
    display:inline-block; margin-top:6px; font-size:10px;
    font-family:var(--font-mono); padding:2px 6px;
    background:var(--accent-dim); color:var(--accent); border-radius:3px;
  }

  /* AI 요약 박스 */
  .ai-summary {
    background:linear-gradient(135deg, rgba(91,141,238,0.08), rgba(200,169,110,0.05));
    border:1px solid var(--border); border-radius:8px; padding:18px; margin-bottom:16px;
  }
  .ai-label {
    display:flex; align-items:center; gap:6px; margin-bottom:10px;
    font-size:10px; font-family:var(--font-mono); color:var(--text-muted); letter-spacing:0.1em;
  }
  .ai-dot { width:6px; height:6px; border-radius:50%; background:var(--blue); animation:pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.4;} }
  .ai-summary p { font-size:13px; color:var(--text); line-height:1.8; }

  /* 용어 팝오버 */
  .term-popover {
    position:fixed; z-index:200; background:var(--surface);
    border:1px solid var(--accent); border-radius:8px; padding:16px;
    max-width:280px; box-shadow:0 8px 32px rgba(0,0,0,0.5);
    display:none; pointer-events:none;
  }
  .term-popover.show { display:block; }
  .popover-word { font-weight:700; color:var(--accent); margin-bottom:6px; }
  .popover-def { font-size:12px; color:var(--text-muted); line-height:1.7; }
  .popover-close { font-size:10px; color:var(--text-dim); margin-top:8px; font-family:var(--font-mono); }

  /* 공통 UI 컴포넌트 */
  .icon-btn {
    width:30px; height:30px; display:flex; align-items:center; justify-content:center;
    background:var(--surface2); border:1px solid var(--border); border-radius:4px;
    cursor:pointer; color:var(--text-muted); transition:all 0.15s;
    font-size:13px;
  }
  .icon-btn:hover { border-color:var(--accent); color:var(--accent); }
  .icon-btn.active { background:var(--accent-dim); border-color:var(--accent); color:var(--accent); }

  /* 검색바 */
  .search-bar {
    display:flex; align-items:center; gap:8px;
    background:var(--surface2); border:1px solid var(--border);
    border-radius:4px; padding:6px 12px; width:200px;
  }
  .search-bar input {
    background:none; border:none; outline:none; color:var(--text);
    font-family:var(--font-sans); font-size:12px; width:100%;
  }
  .search-bar input::placeholder { color:var(--text-dim); }

  /* 스크롤바 */
  ::-webkit-scrollbar { width:5px; }
  ::-webkit-scrollbar-track { background:transparent; }
  ::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }
  ::-webkit-scrollbar-thumb:hover { background:var(--border-bright); }

  /* 토글 스위치 */
  .toggle { position:relative; width:36px; height:20px; }
  .toggle input { opacity:0; width:0; height:0; }
  .toggle-slider {
    position:absolute; cursor:pointer; top:0;left:0;right:0;bottom:0;
    background:var(--surface2); border:1px solid var(--border);
    border-radius:20px; transition:0.3s;
  }
  .toggle-slider::before {
    content:''; position:absolute; height:12px; width:12px;
    left:3px; bottom:3px; background:var(--text-dim);
    border-radius:50%; transition:0.3s;
  }
  .toggle input:checked + .toggle-slider { background:var(--accent-dim); border-color:var(--accent); }
  .toggle input:checked + .toggle-slider::before { transform:translateX(16px); background:var(--accent); }

  /* 선택 하이라이트 모드 */
  .panel-content .hint {
    font-size:12px; color:var(--text-dim); text-align:center;
    padding:20px 0; line-height:1.7;
  }

  /* 진행률 바 */
  .reading-progress {
    position:fixed; top:52px; left:0; height:2px;
    background:var(--accent); z-index:99; transition:width 0.1s;
    width:0%;
  }

  /* 코딩 모드: 모노스페이스 */
  .code-mode .law-text { font-family:var(--font-mono); font-size:13px; line-height:1.9; }
  .code-mode .case-title { font-family:var(--font-mono); }

  /* 애니메이션 */
  @keyframes fadeUp { from{opacity:0;transform:translateY(12px);} to{opacity:1;transform:translateY(0);} }
  .animate-in { animation:fadeUp 0.4s ease forwards; }

  .chip {
    display:inline-flex; align-items:center; gap:4px; padding:3px 10px;
    border-radius:12px; font-size:11px; font-family:var(--font-mono);
  }
  .chip-gold { background:var(--accent-dim); color:var(--accent); border:1px solid rgba(200,169,110,0.3); }
  .chip-blue { background:var(--blue-dim); color:var(--blue); border:1px solid rgba(91,141,238,0.3); }
</style>
</head>
<body>

<!-- 용어 팝오버 -->
<div class="term-popover" id="termPopover">
  <div class="popover-word" id="popoverWord"></div>
  <div class="popover-def" id="popoverDef"></div>
  <div class="popover-close">클릭하여 패널에서 자세히 보기 →</div>
</div>

<!-- ══════════════════════════════════
     HOME PAGE
══════════════════════════════════ -->
<div class="page active" id="home">
  <nav class="home-nav">
    <div class="logo">Lex<span>Vis</span></div>
    <div class="nav-links">
      <a>판례 검색</a>
      <a>법령 데이터베이스</a>
      <a>가이드</a>
      <a>요금제</a>
    </div>
    <div class="nav-right">
      <button class="icon-btn" onclick="toggleTheme()" title="테마 전환">☀</button>
      <button class="btn-outline" style="padding:8px 16px; font-size:12px;" onclick="goDetail()">무료 체험</button>
      <button class="btn-primary" style="padding:8px 16px; font-size:12px;" onclick="goDetail()">시작하기</button>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-left animate-in">
      <div class="hero-eyebrow">법률 열람 & 판례 해석 보조</div>
      <h1 class="hero-title">복잡한 법률,<br>이제 <em>명확하게</em><br>읽힙니다</h1>
      <p class="hero-desc">판례 원문을 읽으며 법률 용어를 즉시 해설받고,<br>유사·상급·하급 연계 판례를 한눈에 파악하세요.<br>다크·라이트·코딩 모드로 최적의 열람 환경을 제공합니다.</p>
      <div class="hero-cta">
        <button class="btn-primary" onclick="goDetail()">판례 열람 체험하기 →</button>
        <button class="btn-outline">데모 영상 보기</button>
      </div>
    </div>
    <div class="hero-right animate-in" style="animation-delay:0.15s;">
      <div class="hero-demo">
        <div style="font-size:11px; font-family:var(--font-mono); color:var(--text-muted); margin-bottom:12px; letter-spacing:0.05em;">CASE SEARCH</div>
        <div class="demo-searchbar">
          <span class="search-icon">⌕</span>
          <input placeholder="판례번호, 키워드, 법령명으로 검색..." readonly>
        </div>
        <div style="margin-bottom:14px;">
          <span class="demo-tag">형법 §250</span>
          <span class="demo-tag">과실치사</span>
          <span class="demo-tag">위헌결정</span>
          <span class="demo-tag">무죄추정</span>
          <span class="demo-tag">헌재 2024</span>
        </div>
        <div onclick="goDetail()" class="demo-result-item" style="cursor:pointer;">
          <div class="result-court">대법원 · 2023도14521 · 2024.03.14</div>
          <div class="result-title">업무상과실치사 — 의료과실 성립 요건</div>
          <div class="result-tags">
            <span class="tag-small tag-형법">형법</span>
            <span class="tag-small" style="background:rgba(92,200,120,0.15);color:var(--green);">의료법</span>
          </div>
        </div>
        <div class="demo-result-item blue" onclick="goDetail()" style="cursor:pointer;">
          <div class="result-court">헌법재판소 · 2022헌바381 · 2024.02.28</div>
          <div class="result-title">통신비밀보호법 제5조 위헌 여부</div>
          <div class="result-tags">
            <span class="tag-small tag-헌법">헌법</span>
            <span class="tag-small tag-형법">형법</span>
          </div>
        </div>
        <div class="demo-result-item" onclick="goDetail()" style="cursor:pointer;">
          <div class="result-court">서울고법 · 2023나23400 · 2024.01.19</div>
          <div class="result-title">임대차 보증금 반환 청구</div>
          <div class="result-tags">
            <span class="tag-small tag-민법">민법</span>
          </div>
        </div>
        <div style="text-align:center; margin-top:12px;">
          <span style="font-size:11px; font-family:var(--font-mono); color:var(--text-dim);">↑ 클릭하여 판례 상세 뷰어 체험</span>
        </div>
      </div>
    </div>
  </section>

  <section class="features">
    <div class="section-label">주요 기능</div>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">◑</div>
        <div class="feature-title">3가지 열람 모드</div>
        <div class="feature-desc">다크·라이트·코딩(모노스페이스) 모드 즉시 전환. 야간 열람, 출력, 개발자 친화형 뷰를 지원합니다.</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">⊞</div>
        <div class="feature-title">법률 전문용어 즉시 해설</div>
        <div class="feature-desc">본문 내 법률 용어에 마우스를 올리면 한자 병기와 함께 뜻풀이가 즉시 표시됩니다.</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">⇅</div>
        <div class="feature-title">연계 판례 3방향 제시</div>
        <div class="feature-desc">유사 판례, 상급심(대법원·헌재), 하급심 판례를 유사도 점수와 함께 사이드패널에서 바로 탐색합니다.</div>
      </div>
    </div>
  </section>
</div>

<!-- ══════════════════════════════════
     DETAIL PAGE (판례 뷰어)
══════════════════════════════════ -->
<div class="page" id="detail">
  <div class="reading-progress" id="readingProgress"></div>

  <!-- 상단 바 -->
  <div class="detail-topbar">
    <div class="topbar-left">
      <div class="topbar-logo" onclick="goHome()">LexVis</div>
      <div class="topbar-divider"></div>
      <div class="topbar-case">대법원 2023도14521</div>
      <span class="chip chip-gold">형법</span>
      <span class="chip chip-blue">의료법</span>
    </div>
    <div class="topbar-right">
      <div class="search-bar">
        <span style="color:var(--text-dim); font-size:12px;">⌕</span>
        <input placeholder="본문 내 검색...">
      </div>
      <div class="icon-btn" title="북마크">♡</div>
      <div class="icon-btn" title="공유">↗</div>
      <div class="icon-btn" title="인쇄">⊡</div>
      <div class="icon-btn active" id="themeToggleBtn" onclick="toggleTheme()" title="테마">☀</div>
      <div class="icon-btn" onclick="goHome()" title="목록으로">✕</div>
    </div>
  </div>

  <!-- 3패널 본문 -->
  <div class="detail-body">

    <!-- 좌측: 조문 목차 -->
    <div class="panel-left">
      <div class="panel-section-title">목차</div>
      <div class="toc-item active" onclick="scrollToSection('s1')">
        <span>【주 문】</span>
        <span class="article-num">I</span>
      </div>
      <div class="toc-item" onclick="scrollToSection('s2')">
        <span>【이 유】</span>
        <span class="article-num">II</span>
      </div>
      <div class="toc-item" style="padding-left:28px;" onclick="scrollToSection('s2')">
        <span>1. 사건 개요</span>
      </div>
      <div class="toc-item" style="padding-left:28px;" onclick="scrollToSection('s3')">
        <span>2. 쟁점 및 판단</span>
        <span class="toc-badge">핵심</span>
      </div>
      <div class="toc-item" style="padding-left:28px;" onclick="scrollToSection('s4')">
        <span>3. 관련 법령</span>
      </div>
      <div class="toc-item" style="padding-left:28px;" onclick="scrollToSection('s5')">
        <span>4. 결론</span>
      </div>
      <div class="toc-divider"></div>
      <div class="panel-section-title">관련 법령</div>
      <div class="toc-item">
        <span>형법 제268조</span>
      </div>
      <div class="toc-item">
        <span>의료법 제21조</span>
      </div>
      <div class="toc-item">
        <span>민법 제750조</span>
      </div>
      <div class="toc-divider"></div>
      <div class="panel-section-title">시각화</div>
      <div style="padding:0 14px;">
        <!-- 미니 타임라인 -->
        <div style="font-size:11px; color:var(--text-dim); margin-bottom:8px; font-family:var(--font-mono);">심급 타임라인</div>
        <div style="display:flex; flex-direction:column; gap:0;">
          <div style="display:flex; align-items:center; gap:10px; padding:6px 0; border-left:2px solid var(--purple); padding-left:10px; margin-left:6px;">
            <div>
              <div style="font-size:10px; color:var(--purple); font-family:var(--font-mono);">현재 판례</div>
              <div style="font-size:11px; color:var(--text);">대법원 2023도14521</div>
              <div style="font-size:10px; color:var(--text-dim);">2024.03.14</div>
            </div>
          </div>
          <div style="display:flex; align-items:center; gap:10px; padding:6px 0; border-left:2px solid var(--border); padding-left:10px; margin-left:6px;">
            <div>
              <div style="font-size:10px; color:var(--text-dim); font-family:var(--font-mono);">원심</div>
              <div style="font-size:11px; color:var(--text-muted);">서울고법 2022나45120</div>
              <div style="font-size:10px; color:var(--text-dim);">2023.09.07</div>
            </div>
          </div>
          <div style="display:flex; align-items:center; gap:10px; padding:6px 0; border-left:2px solid var(--border); padding-left:10px; margin-left:6px;">
            <div>
              <div style="font-size:10px; color:var(--text-dim); font-family:var(--font-mono);">1심</div>
              <div style="font-size:11px; color:var(--text-muted);">서울중앙지법 2021가합11240</div>
              <div style="font-size:10px; color:var(--text-dim);">2022.06.15</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 중앙: 판례 본문 -->
    <div class="panel-center" id="panelCenter" onscroll="updateProgress()">

      <!-- 뷰어 툴바 -->
      <div class="viewer-toolbar">
        <button class="toolbar-btn active" id="btnDark" onclick="setMode('dark')">◑ 다크</button>
        <button class="toolbar-btn" id="btnLight" onclick="setMode('light')">○ 라이트</button>
        <button class="toolbar-btn" id="btnCode" onclick="setMode('code')">⌨ 코딩</button>
        <div class="toolbar-sep"></div>
        <div class="font-control">
          <span>가</span>
          <input type="range" min="13" max="20" value="15" oninput="changeFontSize(this.value)">
          <span style="font-size:16px;">가</span>
        </div>
        <div class="toolbar-sep"></div>
        <button class="toolbar-btn" id="btnHighlight" onclick="toggleHighlight(this)">◈ 용어 강조</button>
        <button class="toolbar-btn" onclick="showRightTab('terms')">⊞ 용어 패널</button>
        <button class="toolbar-btn" onclick="showRightTab('related')">⇅ 연계 판례</button>
      </div>

      <!-- 판례 헤더 -->
      <div class="case-header animate-in">
        <div class="case-court-badge">⚖ 대법원 · 제3부</div>
        <h1 class="case-title">업무상과실치사 사건<br>— 의료과실 성립 요건에 관한 판단</h1>
        <div class="case-meta">
          <div class="meta-item"><span class="meta-label">사건번호</span>2023도14521</div>
          <div class="meta-item"><span class="meta-label">선고일</span>2024. 03. 14.</div>
          <div class="meta-item"><span class="meta-label">결과</span>파기환송</div>
          <div class="meta-item"><span class="meta-label">관여법관</span>대법관 5인</div>
        </div>
      </div>

      <!-- 주문 -->
      <div class="law-section" id="s1">
        <div class="law-section-title"><span class="num">I</span> 주 문</div>
        <div class="law-text">
          원심판결을 파기하고, 사건을 서울고등법원에 환송한다.
        </div>
      </div>

      <!-- 이유: 사건개요 -->
      <div class="law-section" id="s2">
        <div class="law-section-title"><span class="num">II</span> 이 유</div>
        <div style="font-weight:600; color:var(--text); margin-bottom:10px; font-size:14px;">1. 사건의 개요</div>
        <div class="law-text">
          피고인은 서울 소재 ○○병원 외과 전문의로서, 2021. 7. 5. 피해자 甲(당시 58세)에 대하여
          복강경 담낭 절제술을 시행하였다. 수술 과정에서 피고인은 <span class="term" onclick="showTerm(event,'총담관')">총담관</span>을 
          담낭관으로 오인하여 절제하는 <span class="term" onclick="showTerm(event,'과실')">과실</span>을 범하였고, 
          피해자는 수술 후 <span class="term" onclick="showTerm(event,'패혈증')">패혈증</span>이 발병하여 
          같은 해 8. 20. 사망하였다.
        </div>
      </div>

      <!-- 쟁점 -->
      <div class="law-section" id="s3">
        <div style="font-weight:600; color:var(--text); margin-bottom:10px; font-size:14px;">2. 주요 쟁점 및 판단</div>

        <div class="law-text" style="margin-bottom:16px;">
          이 사건의 핵심 쟁점은 <span class="highlight-key">의료행위에 있어서 
          <span class="term" onclick="showTerm(event,'주의의무')">주의의무</span> 위반의 인정 기준</span>과,
          피고인의 행위와 피해자 사망 간의 
          <span class="term" onclick="showTerm(event,'인과관계')">인과관계</span> 존부이다.
        </div>

        <!-- 관련 법령 박스 -->
        <div class="statute-box">
          <div class="statute-title">▸ 형법 제268조 (업무상과실·중과실 치사상)</div>
          업무상과실 또는 중대한 과실로 인하여 사람을 사상에 이르게 한 자는 5년 이하의 금고 또는 2천만원 이하의 벌금에 처한다.
        </div>

        <div class="law-text" style="margin-bottom:16px;">
          원심은 피고인이 수술 전 충분한 <span class="term" onclick="showTerm(event,'설명의무')">설명의무</span>를 
          이행하였고, 수술 과정에서의 오인이 불가항력적이었다고 판단하여 
          <span class="highlight-blue">무죄를 선고</span>하였다.
          그러나 대법원은 이하와 같이 원심의 판단에 법리 오해가 있음을 지적한다.
        </div>

        <div class="law-text">
          <span class="highlight-key">의료행위에 있어서 주의의무의 기준은, 해당 시점의 의학 수준에서 
          일반적으로 인정되는 의사로서 갖추어야 할 능력과 경험을 갖춘 자가 
          기울여야 할 주의를 표준으로 삼아야 한다.</span>
          기록에 의하면, 피고인은 총담관과 담낭관의 주행 방향 및 
          <span class="term" onclick="showTerm(event,'해부학적')">해부학적</span> 위치관계를 
          <span class="term" onclick="showTerm(event,'조영술')">조영술</span>로 사전 확인하지 않은 채 
          수술을 진행하였는바, 이는 당시 의료 수준에 비추어 
          <span class="term" onclick="showTerm(event,'선관주의의무')">선관주의의무</span>를 
          현저히 위반한 것으로 볼 여지가 충분하다.
        </div>
      </div>

      <!-- 관련 법령 -->
      <div class="law-section" id="s4">
        <div style="font-weight:600; color:var(--text); margin-bottom:10px; font-size:14px;">3. 관련 법령 검토</div>
        <div class="statute-box">
          <div class="statute-title">▸ 의료법 제21조 (기록 열람 등)</div>
          의료인이나 의료기관 종사자는 환자가 아닌 다른 사람에게 환자에 관한 기록을 열람하게 하거나 그 사본을 내주는 등 내용을 확인할 수 있게 하여서는 아니 된다.
        </div>
        <div class="law-text">
          또한, <span class="term" onclick="showTerm(event,'인과관계')">인과관계</span>의 
          판단과 관련하여, 피고인의 총담관 절제 행위와 피해자의 사망 간에는 
          상당인과관계가 인정됨이 의학적 감정 결과 등 기록상 명백하다.
        </div>
      </div>

      <!-- 결론 -->
      <div class="law-section" id="s5">
        <div style="font-weight:600; color:var(--text); margin-bottom:10px; font-size:14px;">4. 결 론</div>
        <div class="law-text">
          그러므로 원심판결을 파기하고, 사건을 다시 심리·판단하게 하기 위하여
          원심법원에 환송하기로 하여, 관여 대법관의 일치된 의견으로 
          주문과 같이 판결한다.
        </div>
        <div style="margin-top:20px; text-align:right; font-family:var(--font-mono); font-size:12px; color:var(--text-muted);">
          대법관 김○○ (재판장) · 이○○ · 박○○ · 최○○ · 정○○
        </div>
      </div>

      <div style="height:80px;"></div>
    </div>

    <!-- 우측: AI 보조 패널 -->
    <div class="panel-right">
      <div class="panel-tabs">
        <div class="panel-tab active" id="tab-terms" onclick="showRightTab('terms')">용어 해설</div>
        <div class="panel-tab" id="tab-related" onclick="showRightTab('related')">연계 판례</div>
        <div class="panel-tab" id="tab-summary" onclick="showRightTab('summary')">AI 요약</div>
      </div>

      <!-- 용어 해설 탭 -->
      <div class="panel-content" id="content-terms">
        <div class="hint">본문의 <strong style="color:var(--accent);">밑줄 용어</strong>를 클릭하면<br>이 곳에서 상세 해설을 확인할 수 있습니다.</div>

        <div id="termDisplay" style="display:none;">
          <div class="term-card" id="mainTermCard">
            <div class="term-card-word" id="tcWord"></div>
            <div class="term-card-hanja" id="tcHanja"></div>
            <div class="term-card-def" id="tcDef"></div>
            <div class="term-card-law" id="tcLaw"></div>
          </div>
        </div>

        <!-- 기본 용어 목록 -->
        <div style="margin-top:8px;">
          <div class="related-section-title">이 판례의 주요 용어</div>
          <div class="term-card" onclick="showTermCard('주의의무')" style="cursor:pointer;">
            <div class="term-card-word">주의의무 <span style="font-size:11px;font-weight:300;color:var(--text-muted)">→</span></div>
            <div class="term-card-hanja">注意義務</div>
            <div class="term-card-def">법적으로 요구되는 수준의 주의를 기울여야 할 의무...</div>
          </div>
          <div class="term-card" onclick="showTermCard('인과관계')" style="cursor:pointer;">
            <div class="term-card-word">인과관계 <span style="font-size:11px;font-weight:300;color:var(--text-muted)">→</span></div>
            <div class="term-card-hanja">因果關係</div>
            <div class="term-card-def">어떤 행위와 결과 사이의 법적 연결 관계...</div>
          </div>
          <div class="term-card" onclick="showTermCard('선관주의의무')" style="cursor:pointer;">
            <div class="term-card-word">선관주의의무 <span style="font-size:11px;font-weight:300;color:var(--text-muted)">→</span></div>
            <div class="term-card-hanja">善管注意義務</div>
            <div class="term-card-def">선량한 관리자로서 갖추어야 할 주의의무...</div>
          </div>
        </div>
      </div>

      <!-- 연계 판례 탭 -->
      <div class="panel-content" id="content-related" style="display:none;">
        <div class="related-section-title">상급심 · 동일 사건</div>

        <div class="related-card upper">
          <div class="related-type upper">▲ 상급심 / 선행 판례</div>
          <div class="related-title">대법원 2018도16002 — 의료과실 주의의무 기준 확립</div>
          <div class="related-meta">대법원 · 2019.04.25</div>
          <div class="related-similarity">유사도 91%</div>
        </div>

        <div class="related-card upper">
          <div class="related-type upper">▲ 헌법적 기초</div>
          <div class="related-title">헌재 2010헌바394 — 업무상과실치사 조항 합헌결정</div>
          <div class="related-meta">헌법재판소 · 2012.08.23</div>
          <div class="related-similarity">참조 판례</div>
        </div>

        <div class="related-section-title" style="margin-top:16px;">유사 판례</div>

        <div class="related-card similar">
          <div class="related-type similar">◈ 유사 판례</div>
          <div class="related-title">대법원 2021도8812 — 복강경 수술 중 장기 손상 과실</div>
          <div class="related-meta">대법원 · 2022.07.14</div>
          <div class="related-similarity">유사도 87%</div>
        </div>

        <div class="related-card similar">
          <div class="related-type similar">◈ 유사 판례</div>
          <div class="related-title">대법원 2019도11307 — 수술 전 설명의무 위반</div>
          <div class="related-meta">대법원 · 2020.03.26</div>
          <div class="related-similarity">유사도 79%</div>
        </div>

        <div class="related-section-title" style="margin-top:16px;">하급심 · 후속 판례</div>

        <div class="related-card lower">
          <div class="related-type lower">▼ 원심 (파기환송심)</div>
          <div class="related-title">서울고법 2024나11200 — 파기환송 후 재판</div>
          <div class="related-meta">서울고법 · 진행중</div>
        </div>

        <div class="related-card lower">
          <div class="related-type lower">▼ 하급심 인용</div>
          <div class="related-title">서울중앙지법 2024가합20045 — 민사 손해배상 청구</div>
          <div class="related-meta">서울중앙지법 · 2024.11.08</div>
          <div class="related-similarity">유사도 72%</div>
        </div>
      </div>

      <!-- AI 요약 탭 -->
      <div class="panel-content" id="content-summary" style="display:none;">
        <div class="ai-summary">
          <div class="ai-label"><span class="ai-dot"></span> AI 판례 분석</div>
          <p>본 판결은 <strong>의료과실에서 주의의무 위반 판단 기준</strong>을 명확히 한 사례입니다. 대법원은 원심의 무죄 판단을 파기하며, 복강경 수술 시 조영술로 담관 구조를 사전 확인하지 않은 것이 의료 수준에 미달한 과실임을 인정했습니다.</p>
        </div>

        <div class="related-section-title">핵심 법리 3가지</div>
        <div class="term-card">
          <div class="term-card-word" style="font-size:12px;">① 주의의무 판단 기준</div>
          <div class="term-card-def">해당 시점 의학 수준에서 평균적 의사가 기울여야 할 주의를 기준으로 판단</div>
        </div>
        <div class="term-card">
          <div class="term-card-word" style="font-size:12px;">② 인과관계 인정</div>
          <div class="term-card-def">총담관 절제와 패혈증 사망 간 상당인과관계 명백히 인정</div>
        </div>
        <div class="term-card">
          <div class="term-card-word" style="font-size:12px;">③ 사전 확인의무</div>
          <div class="term-card-def">수술 전 조영술 등으로 해부학적 구조 확인은 필수적 선관주의 사항</div>
        </div>

        <div class="related-section-title" style="margin-top:8px;">판결 영향</div>
        <div style="font-size:13px; color:var(--text-muted); line-height:1.8;">
          의료과실 소송에서 의료진의 사전 확인 의무를 강화하는 선례로 작용합니다. 이후 유사 사건에서 인과관계 입증 부담이 완화될 가능성이 있습니다.
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // ── 용어 데이터 ──
  const termDB = {
    '총담관': { hanja: '總膽管 (Choledochus)', def: '간에서 생성된 담즙이 십이지장으로 흘러내려가는 주요 통로. 담낭관과 합류하여 형성되며, 수술 중 담낭관과 혼동되는 경우 치명적 손상을 유발할 수 있다.', law: '관련: 의료법 제21조, 형법 제268조' },
    '과실': { hanja: '過失 (Negligence)', def: '주의를 기울였다면 회피할 수 있었음에도 부주의로 인해 발생한 법적 위반행위. 의도성(고의)이 없다는 점에서 고의범과 구별된다.', law: '근거: 형법 제14조' },
    '패혈증': { hanja: '敗血症 (Sepsis)', def: '감염에 의한 전신적 염증 반응 증후군으로, 주요 장기에 기능 부전을 일으킬 수 있다. 의료사고에서 인과관계 판단 시 핵심 의학적 사실로 작용한다.', law: '관련: 의료과오 판례 다수' },
    '주의의무': { hanja: '注意義務 (Duty of Care)', def: '특정 업무나 행위를 함에 있어 법적으로 요구되는 수준의 주의를 기울여야 할 의무. 의료분야에서는 해당 시점 의학 수준을 기준으로 판단한다.', law: '근거: 형법 제268조, 민법 제750조' },
    '인과관계': { hanja: '因果關係 (Causal Relationship)', def: '행위와 결과 사이의 법적·사실적 연결. 형사책임에서는 상당인과관계, 즉 해당 행위로부터 그 결과가 발생함이 상당히 예견가능해야 인정된다.', law: '근거: 형법 총칙 판례 법리' },
    '설명의무': { hanja: '說明義務 (Duty to Disclose)', def: '의료인이 환자에게 시술의 목적, 방법, 위험성 등을 충분히 알려야 하는 의무. 이를 위반하면 환자의 자기결정권 침해로 별도의 손해배상 책임이 발생한다.', law: '근거: 의료법 제24조의2' },
    '해부학적': { hanja: '解剖學的 (Anatomical)', def: '인체의 구조와 기관의 위치 관계를 다루는 의학 분야에 관한. 수술 시 정확한 해부학적 위치 파악은 의사의 기본적 주의의무에 해당한다.', law: '참조: 의료과실 판단 기준 판례' },
    '조영술': { hanja: '造影術 (Cholangiography)', def: '조영제를 주입하여 X선으로 담관 등의 구조를 시각화하는 의료 검사법. 복강경 수술 중 담관 손상 예방을 위한 표준 확인 절차로 활용된다.', law: '관련: 의료법 시행규칙' },
    '선관주의의무': { hanja: '善管注意義務 (Standard of Reasonable Care)', def: '선량한 관리자로서 일반적으로 기울여야 할 주의의무. 민법상 위임관계나 전문직 계약에서 요구되는 높은 수준의 주의 기준이다.', law: '근거: 민법 제681조' },
  };

  function showTerm(e, word) {
    e.stopPropagation();
    showTermCard(word);
    // 팝오버
    const pop = document.getElementById('termPopover');
    pop.style.left = (e.clientX + 12) + 'px';
    pop.style.top = (e.clientY - 10) + 'px';
    document.getElementById('popoverWord').textContent = word;
    document.getElementById('popoverDef').textContent = termDB[word]?.def.substring(0, 60) + '...';
    pop.classList.add('show');
    setTimeout(()=> pop.classList.remove('show'), 2200);
  }

  function showTermCard(word) {
    showRightTab('terms');
    const data = termDB[word];
    if (!data) return;
    document.getElementById('tcWord').textContent = word;
    document.getElementById('tcHanja').textContent = data.hanja;
    document.getElementById('tcDef').textContent = data.def;
    document.getElementById('tcLaw').textContent = data.law;
    document.getElementById('termDisplay').style.display = 'block';
  }

  // ── 탭 전환 ──
  function showRightTab(tab) {
    ['terms','related','summary'].forEach(t => {
      document.getElementById('tab-'+t).classList.toggle('active', t===tab);
      document.getElementById('content-'+t).style.display = t===tab ? 'block' : 'none';
    });
  }

  // ── 페이지 전환 ──
  function goDetail() {
    document.getElementById('home').classList.remove('active');
    document.getElementById('detail').classList.add('active');
    document.getElementById('home').style.display = 'none';
    document.getElementById('detail').style.display = 'flex';
    window.scrollTo(0,0);
  }
  function goHome() {
    document.getElementById('detail').classList.remove('active');
    document.getElementById('home').classList.add('active');
    document.getElementById('detail').style.display = 'none';
    document.getElementById('home').style.display = 'block';
    window.scrollTo(0,0);
  }

  // ── 테마 ──
  function toggleTheme() {
    document.body.classList.toggle('light-mode');
    const isLight = document.body.classList.contains('light-mode');
    document.getElementById('themeToggleBtn').textContent = isLight ? '◑' : '☀';
  }

  // ── 뷰어 모드 ──
  function setMode(mode) {
    const center = document.getElementById('panelCenter');
    center.classList.remove('code-mode');
    ['btnDark','btnLight','btnCode'].forEach(id => document.getElementById(id).classList.remove('active'));
    if (mode === 'dark') {
      document.body.classList.remove('light-mode');
      document.getElementById('btnDark').classList.add('active');
    } else if (mode === 'light') {
      document.body.classList.add('light-mode');
      document.getElementById('btnLight').classList.add('active');
    } else if (mode === 'code') {
      document.body.classList.remove('light-mode');
      center.classList.add('code-mode');
      document.getElementById('btnCode').classList.add('active');
    }
  }

  // ── 폰트 크기 ──
  function changeFontSize(val) {
    document.querySelectorAll('.law-text').forEach(el => el.style.fontSize = val + 'px');
  }

  // ── 용어 강조 토글 ──
  function toggleHighlight(btn) {
    btn.classList.toggle('active');
    const isOn = btn.classList.contains('active');
    document.querySelectorAll('.term').forEach(el => {
      el.style.borderBottomColor = isOn ? 'var(--accent)' : 'transparent';
      el.style.color = isOn ? 'var(--accent)' : 'var(--text)';
    });
  }

  // ── 독서 진행률 ──
  function updateProgress() {
    const el = document.getElementById('panelCenter');
    const prog = (el.scrollTop / (el.scrollHeight - el.clientHeight)) * 100;
    document.getElementById('readingProgress').style.width = prog + '%';
  }

  // ── TOC 스크롤 ──
  function scrollToSection(id) {
    const el = document.getElementById(id);
    if (el) {
      document.getElementById('panelCenter').scrollTo({ top: el.offsetTop - 20, behavior: 'smooth' });
    }
    document.querySelectorAll('.toc-item').forEach(t => t.classList.remove('active'));
    event.currentTarget.classList.add('active');
  }

  // 팝오버 닫기
  document.addEventListener('click', () => {
    document.getElementById('termPopover').classList.remove('show');
  });
</script>
</body>
</html>
